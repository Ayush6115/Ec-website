{"ast":null,"code":"import { useLocation } from 'react-router-dom'; // ADD this at top\n\n// Inside your component:\nconst location = useLocation();\nuseEffect(() => {\n  async function fetchProducts() {\n    try {\n      const params = new URLSearchParams(location.search);\n      const search = params.get('search');\n      let url = 'http://localhost:5000/api/products';\n      if (search) {\n        url += `?search=${encodeURIComponent(search)}`;\n      }\n      const response = await fetch(url);\n      if (!response.ok) throw new Error('Failed to fetch products');\n      const data = await response.json();\n      setProducts(data || []); // backend returns array directly\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n  fetchProducts();\n}, [location.search]);","map":{"version":3,"names":["useLocation","location","useEffect","fetchProducts","params","URLSearchParams","search","get","url","encodeURIComponent","response","fetch","ok","Error","data","json","setProducts","err","setError","message","setLoading"],"sources":["C:/Users/ayush/Desktop/project_MERN/frontend/src/pages/AllProduct.jsx"],"sourcesContent":["import { useLocation } from 'react-router-dom'; // ADD this at top\r\n\r\n// Inside your component:\r\nconst location = useLocation();\r\n\r\nuseEffect(() => {\r\n  async function fetchProducts() {\r\n    try {\r\n      const params = new URLSearchParams(location.search);\r\n      const search = params.get('search');\r\n\r\n      let url = 'http://localhost:5000/api/products';\r\n      if (search) {\r\n        url += `?search=${encodeURIComponent(search)}`;\r\n      }\r\n\r\n      const response = await fetch(url);\r\n      if (!response.ok) throw new Error('Failed to fetch products');\r\n      const data = await response.json();\r\n      setProducts(data || []); // backend returns array directly\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  fetchProducts();\r\n}, [location.search]);\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB,CAAC,CAAC;;AAEhD;AACA,MAAMC,QAAQ,GAAGD,WAAW,CAAC,CAAC;AAE9BE,SAAS,CAAC,MAAM;EACd,eAAeC,aAAaA,CAAA,EAAG;IAC7B,IAAI;MACF,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAACJ,QAAQ,CAACK,MAAM,CAAC;MACnD,MAAMA,MAAM,GAAGF,MAAM,CAACG,GAAG,CAAC,QAAQ,CAAC;MAEnC,IAAIC,GAAG,GAAG,oCAAoC;MAC9C,IAAIF,MAAM,EAAE;QACVE,GAAG,IAAI,WAAWC,kBAAkB,CAACH,MAAM,CAAC,EAAE;MAChD;MAEA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACH,GAAG,CAAC;MACjC,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAC7D,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClCC,WAAW,CAACF,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZC,QAAQ,CAACD,GAAG,CAACE,OAAO,CAAC;IACvB,CAAC,SAAS;MACRC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEAjB,aAAa,CAAC,CAAC;AACjB,CAAC,EAAE,CAACF,QAAQ,CAACK,MAAM,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}